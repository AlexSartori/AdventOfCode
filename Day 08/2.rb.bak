$segs_to_n = Hash[2 => [1], 3 => [7], 4 => [4], 5 => [2, 3, 5], 6 => [0, 6, 9], 7 => [8]]

def decode_outputs(p, o)
  n_to_segs = Hash.new('abcdefg'.split '')
  
  p.each do |sym|
    $segs_to_n[sym.length].each { |n| n_to_segs[n] = n_to_segs[n].intersection sym.split ''}
  end

  puts n_to_segs
  res = 0
  decoder = Hash.new
  n_to_segs.each { |k, v| decoder[v.sort.join ''] = k }
  o.each_with_index do |n, i|
    puts n
    n = n.split('').sort.join ''
    res += decoder[n] * 10**(i+1)
  end

  return res
end

res = 0

while line = gets
  patterns, output = line.strip.split('|').map &:split
  res += decode_outputs patterns, output
  break
end

puts res
